import{_ as c,r as p,c as u,a,w as o,e,d as n,b as s,o as l}from"./app.6f31ad5d.js";const M='{"title":"JavaScript \u8FD0\u884C\u673A\u5236\u8BE6\u89E3\uFF1A\u518D\u8C08 Event Loop","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4E00\u3001\u4E3A\u4EC0\u4E48 JavaScript \u662F\u5355\u7EBF\u7A0B\uFF1F","slug":"\u4E00\u3001\u4E3A\u4EC0\u4E48-javascript-\u662F\u5355\u7EBF\u7A0B\uFF1F"},{"level":2,"title":"\u4E8C\u3001\u4EFB\u52A1\u961F\u5217","slug":"\u4E8C\u3001\u4EFB\u52A1\u961F\u5217"},{"level":2,"title":"\u4E09\u3001\u4E8B\u4EF6\u548C\u56DE\u8C03\u51FD\u6570","slug":"\u4E09\u3001\u4E8B\u4EF6\u548C\u56DE\u8C03\u51FD\u6570"},{"level":2,"title":"\u56DB\u3001Event Loop","slug":"\u56DB\u3001event-loop"},{"level":2,"title":"\u4E94\u3001\u5B9A\u65F6\u5668","slug":"\u4E94\u3001\u5B9A\u65F6\u5668"},{"level":2,"title":"\u516D\u3001Node.js \u7684 Event Loop","slug":"\u516D\u3001node-js-\u7684-event-loop"}],"relativePath":"learns/javascript/js-event-loop.md","lastUpdated":1641819438384}',i={},r=e('',27),k=n("div",{class:"language-js line-numbers-mode"},[n("pre",null,[n("code",null,[n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br")])],-1),m=e('',8),d=n("div",{class:"language-js line-numbers-mode"},[n("pre",null,[n("code",null,[s("process"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"nextTick"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token constant"},"A"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  process`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"nextTick"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token constant"},"B"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"timeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'TIMEOUT FIRED'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 1"),s(`
`),n("span",{class:"token comment"},"// 2"),s(`
`),n("span",{class:"token comment"},"// TIMEOUT FIRED"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br")])],-1),b=n("p",null,[s("\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0C"),n("strong",null,'\u7531\u4E8E process.nextTick \u65B9\u6CD5\u6307\u5B9A\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u603B\u662F\u5728\u5F53\u524D"\u6267\u884C\u6808"\u7684\u5C3E\u90E8\u89E6\u53D1'),s('\uFF0C\u6240\u4EE5\u4E0D\u4EC5\u51FD\u6570 A \u6BD4 setTimeout \u6307\u5B9A\u7684\u56DE\u8C03\u51FD\u6570 timeout \u5148\u6267\u884C\uFF0C\u800C\u4E14\u51FD\u6570 B \u4E5F\u6BD4 timeout \u5148\u6267\u884C\u3002\u8FD9\u8BF4\u660E\uFF0C\u5982\u679C\u6709\u591A\u4E2A process.nextTick \u8BED\u53E5\uFF08\u4E0D\u7BA1\u5B83\u4EEC\u662F\u5426\u5D4C\u5957\uFF09\uFF0C\u5C06\u5168\u90E8\u5728\u5F53\u524D"\u6267\u884C\u6808"\u6267\u884C')],-1),f=n("p",null,"\u73B0\u5728\uFF0C\u518D\u770B setImmediate\u3002",-1),h=n("div",{class:"language-js line-numbers-mode"},[n("pre",null,[n("code",null,[n("span",{class:"token function"},"setImmediate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token constant"},"A"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token function"},"setImmediate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token constant"},"B"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"timeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'TIMEOUT FIRED'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br")])],-1),_=n("p",null,[s("\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0C"),n("strong",null,"setImmediate \u4E0E setTimeout(fn,0)\u5404\u81EA\u6DFB\u52A0\u4E86\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570 A \u548C timeout\uFF0C\u90FD\u662F\u5728\u4E0B\u4E00\u6B21 Event Loop \u89E6\u53D1"),s("\u3002\u90A3\u4E48\uFF0C\u54EA\u4E2A\u56DE\u8C03\u51FD\u6570\u5148\u6267\u884C\u5462\uFF1F\u7B54\u6848\u662F\u4E0D\u786E\u5B9A\u3002\u8FD0\u884C\u7ED3\u679C\u53EF\u80FD\u662F 1--TIMEOUT FIRED--2\uFF0C\u4E5F\u53EF\u80FD\u662F TIMEOUT FIRED--1--2\u3002")],-1),v=n("blockquote",null,[n("p",null,"\u4EE4\u4EBA\u56F0\u60D1\u7684\u662F\uFF0CNode.js \u6587\u6863\u4E2D\u79F0\uFF0CsetImmediate \u6307\u5B9A\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u603B\u662F\u6392\u5728 setTimeout \u524D\u9762\u3002\u5B9E\u9645\u4E0A\uFF0C\u8FD9\u79CD\u60C5\u51B5\u53EA\u53D1\u751F\u5728\u9012\u5F52\u8C03\u7528\u7684\u65F6\u5019\u3002")],-1),q=n("div",{class:"language-js line-numbers-mode"},[n("pre",null,[n("code",null,[n("span",{class:"token function"},"setImmediate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"setImmediate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token constant"},"A"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token function"},"setImmediate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token constant"},"B"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"timeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'TIMEOUT FIRED'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 1"),s(`
`),n("span",{class:"token comment"},"// TIMEOUT FIRED"),s(`
`),n("span",{class:"token comment"},"// 2"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br")])],-1),T=n("p",null,"\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0CsetImmediate \u548C setTimeout \u88AB\u5C01\u88C5\u5728\u4E00\u4E2A setImmediate \u91CC\u9762\uFF0C\u5B83\u7684\u8FD0\u884C\u7ED3\u679C\u603B\u662F 1--TIMEOUT FIRED--2\uFF0C\u8FD9\u65F6\u51FD\u6570 A \u4E00\u5B9A\u5728 timeout \u524D\u9762\u89E6\u53D1\u3002\u81F3\u4E8E 2 \u6392\u5728 TIMEOUT FIRED \u7684\u540E\u9762\uFF08\u5373\u51FD\u6570 B \u5728 timeout \u540E\u9762\u89E6\u53D1\uFF09\uFF0C\u662F\u56E0\u4E3A setImmediate \u603B\u662F\u5C06\u4E8B\u4EF6\u6CE8\u518C\u5230\u4E0B\u4E00\u8F6E Event Loop\uFF0C\u6240\u4EE5\u51FD\u6570 A \u548C timeout \u662F\u5728\u540C\u4E00\u8F6E Loop \u6267\u884C\uFF0C\u800C\u51FD\u6570 B \u5728\u4E0B\u4E00\u8F6E Loop \u6267\u884C\u3002",-1),g=n("p",null,[s("\u6211\u4EEC\u7531\u6B64\u5F97\u5230\u4E86 process.nextTick \u548C setImmediate \u7684\u4E00\u4E2A\u91CD\u8981\u533A\u522B\uFF1A"),n("strong",null,'\u591A\u4E2A process.nextTick \u8BED\u53E5\u603B\u662F\u5728\u5F53\u524D"\u6267\u884C\u6808"\u4E00\u6B21\u6267\u884C\u5B8C\uFF0C\u591A\u4E2A setImmediate \u53EF\u80FD\u5219\u9700\u8981\u591A\u6B21 loop \u624D\u80FD\u6267\u884C\u5B8C'),s('\u3002\u4E8B\u5B9E\u4E0A\uFF0C\u8FD9\u6B63\u662F Node.js 10.0 \u7248\u6DFB\u52A0 setImmediate \u65B9\u6CD5\u7684\u539F\u56E0\uFF0C\u5426\u5219\u50CF\u4E0B\u9762\u8FD9\u6837\u7684\u9012\u5F52\u8C03\u7528 process.nextTick\uFF0C\u5C06\u4F1A\u6CA1\u5B8C\u6CA1\u4E86\uFF0C\u4E3B\u7EBF\u7A0B\u6839\u672C\u4E0D\u4F1A\u53BB\u8BFB\u53D6"\u4E8B\u4EF6\u961F\u5217"\uFF01')],-1),I=n("div",{class:"language-js line-numbers-mode"},[n("pre",null,[n("code",null,[s("process"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"nextTick"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  process`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"nextTick"),n("span",{class:"token punctuation"},"("),s("foo"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br")])],-1),E=n("blockquote",null,[n("p",null,"\u4E8B\u5B9E\u4E0A\uFF0C\u73B0\u5728\u8981\u662F\u4F60\u5199\u51FA\u9012\u5F52\u7684 process.nextTick\uFF0CNode.js \u4F1A\u629B\u51FA\u4E00\u4E2A\u8B66\u544A\uFF0C\u8981\u6C42\u4F60\u6539\u6210 setImmediate\u3002")],-1),w=n("p",null,'\u53E6\u5916\uFF0C\u7531\u4E8E process.nextTick \u6307\u5B9A\u7684\u56DE\u8C03\u51FD\u6570\u662F\u5728\u672C\u6B21"\u4E8B\u4EF6\u5FAA\u73AF"\u89E6\u53D1\uFF0C\u800C setImmediate \u6307\u5B9A\u7684\u662F\u5728\u4E0B\u6B21"\u4E8B\u4EF6\u5FAA\u73AF"\u89E6\u53D1\uFF0C\u6240\u4EE5\u5F88\u663E\u7136\uFF0C\u524D\u8005\u603B\u662F\u6BD4\u540E\u8005\u53D1\u751F\u5F97\u65E9\uFF0C\u800C\u4E14\u6267\u884C\u6548\u7387\u4E5F\u9AD8\uFF08\u56E0\u4E3A\u4E0D\u7528\u68C0\u67E5"\u4EFB\u52A1\u961F\u5217"\uFF09\u3002',-1),j=n("p",null,[s("\u6765\u6E90\uFF1A"),n("a",{href:"http://www.ruanyifeng.com/blog/2014/10/event-loop.html",target:"_blank",rel:"noopener noreferrer"},"http://www.ruanyifeng.com/blog/2014/10/event-loop.html")],-1);function x(S,A,L,O,y,D){const t=p("code-block");return l(),u("div",null,[r,a(t,{showAction:!1},{default:o(()=>[k]),_:1}),m,a(t,{showAction:!1},{default:o(()=>[d]),_:1}),b,f,a(t,{showAction:!1},{default:o(()=>[h]),_:1}),_,v,a(t,{showAction:!1},{default:o(()=>[q]),_:1}),T,g,a(t,{showAction:!1},{default:o(()=>[I]),_:1}),E,w,j])}var N=c(i,[["render",x]]);export{M as __pageData,N as default};
